---
layout: post
tags: [study]
---

### IP 주소란

OSI 7계층 중에서 3계층인 네트워크 계층에 속하며 컴퓨터 네트워크에서 장치들이 서로 인식하고 통신을 하기 위해서 사용하는 특수한 번호이다. 이번호를 이용하여 발신자를 대신하여 메시지가 전송되고 수신자를 향하여 예정된 목적지로 전달된다.

### IPV4와 IPV6의 차이점

IP version 4 주소, 줄여서 `IPv4` 주소는 오늘날 일반적으로 사용하는 IP 주소이다. 이 주소의 범위는 32비트로 보통 0 ~ 255 사이의 십진수 넷을 쓰고 `.`으로 구분하여 나타낸다. 0.0.0.0 부터 255.255.255.255 까지가 된다.

`IPv6`는 모든 단말에 주소를 부여하기에 32비트로는 부족해짐에 따라 IP의 IPv6에서는 주소길이를 128비트를 사용한다.

| 구분              | IPv4                                    | IPv6                                                               |
| ----------------- | --------------------------------------- | ------------------------------------------------------------------ |
| 주소길이          | 32비트                                  | 128비트                                                            |
| 표시 방법         | 8비트씩 4부분 10진수 표시               | 16비트 8부분 16진수로 표시                                         |
| 주소 개수         | 약 43억개                               | 2^128개 (약 43억 X 약 43억 X 약 43억 X 약 43억)                    |
| 주소할당 방식     | A, B, C, D 등의 클래스 단위 비순차 할당 | 네트워크 규모, 단말기수에 따라 순차할당                            |
| 브로트캐스트 주소 | 있음                                    | 없음 (대신, 로컬범위 내에서 모든 노드에 대한 멀티캐스트 주소 사용) |
| 헤더 크기         | 가변                                    | 고정                                                               |
| QoS 제공          | 미흡                                    | 제공                                                               |
| 보안              | IPSec 프로토콜 별도 설치                | IPSec 자체 지원                                                    |
| 서비스 품질       | 제한적 품질 보장                        | 확장된 품질 보장                                                   |

### 서브넷과 서브넷 마스크란

서브넷이란 IP 주소에서 네트워크 영역을 부분적으로 나눈 부분 네트워크라는 뜻이다. 그리고 이 서브넷을 만들때 쓰이는 것이 바로 서브넷 마스크이다.

IPv4 주소는 네트워크 부분과 호스트 부분 2개로 구성되어있다. 네트워크 부분은 어떤 IPv4 네트워크에 있는가이고 호스트 부분은 어떤 단말인가를 나타낸다. 서브넷 마스크는 이 2개를 구분하는 표시와 같은 것으로 1의 비트가 네트워크 부분, 0비트가 호스트 부분을 나타낸다. IPv4와 서브넷 마스크를 조합해 봄으로써, 어떤 IPv4 네트워크에 있는 어떤 단말인가를 식별한다.

#### 클래스리스 어드레싱

8비트 단위의 주소 클래스에 관계없이 IPv4 주소를 할당하는 방식을 클래스리스 어드레싱이라고 한다. 서브네팅이라고도 한다. 클래스리스 어드레싱은 네트워크 부분과 호스트 부분 외에 서브넷 부분이라는 새로운 개념을 도입해, 새로운 네트워크를 만들어낸다. 서브넷 마스크를 8비트 단위가 아니라 1비트 단위로 자유롭게 적요함으로써 이를 구현한다.

출처

- [https://engkimbs.tistory.com/entry/서브넷-서브넷-마스크-확실하게-짚고-넘어가자](https://engkimbs.tistory.com/entry/%EC%84%9C%EB%B8%8C%EB%84%B7-%EC%84%9C%EB%B8%8C%EB%84%B7-%EB%A7%88%EC%8A%A4%ED%81%AC-%ED%99%95%EC%8B%A4%ED%95%98%EA%B2%8C-%EC%A7%9A%EA%B3%A0-%EB%84%98%EC%96%B4%EA%B0%80%EC%9E%90)

### 라우팅이란

라우터나 L3 스위치는 수신자 IP 주소, 명확히 주어진 수신지 네트워크 정보, IP 패킷을 전송할 근접 기기의 IP 주소를 나타내는 `네트워크 홉` 정보를 관리함으로써 IP 패킷의 전송 대상자를 바꾼다. 이 IP 패킷의 전송 대상자를 바꾸는 기능을 `라우팅`이라고 한다.

### Public IP와 Private IP 차이

Public IP는 인터넷에서 임의의

Private IP 주소는 조직 안에서 자우롭게 할당 할 수 있는 IPv4 주소이다. 주소 클래스별로 정의 되어 사용된다. 인터넷에 직접 접속될때 Private IP는 Public IP로 변환해야 한다. IP 주소를 변환하는 기능을 NAT이라고 한다.

### 라우팅 프로토콜

라우팅 프로토콜은 패킷이 목적지까지 가는 방법을 결정해주는 프로토콜이다. 라우팅 프로토콜은 그 제어 범위에 따라 IGP(Interior Gateway Protocal), EGP(Exterior Gateway Protocal)의 2가지 종류로 나눌 수 있다. 이 두가지를 나누는 개념이 AS(Autonomous System, 자율 시스템) 이다.

### IP는 어떻게 할당될까

### NAT란

IP 주소를 변환하는 기술을 NAT(Network Address Translation)라 부른다. NAT을 사용하면 부족한 글로벌 IP 주소를 절약할 수 있고, 같은 네트워크 주소를 가진 시스템 사이에서 통신할 수 있는 등 IP 환경에 내재된 다양한 문제를 해결할 수 있다.

### ICMP란

ICMP는 Internet Control Message Protocal의 약자로 네트워크 계층의 프로토콜의 하나로 IP를 돕는 프로토콜이다. ICMP는 IP 레벨의 통신을 확인하거나 다양한 에러를 알리는 등의 방식으로 IP를 돕는다. ICMP는 IPv4 포맷으로 구성된 ICMPv4, IPv6 포맷으로 구성된 ICMPv6으로 나눌수 있다.

대표적인 ICMPv4의 동작으로는 `에코 요청/응답`, `Destination Unreachable (수신지 도달불가)`, `Time-to-live exceeded (패킷 유효기간 초과)`가 있고, ICMPv6는 ICMPv4가 가진 기능을 더해, MAC 주소를 학습하는 기능, 네트워크 정로를 제공하는 기능 등이 있어 한층 중요한 역할을 담당하게 되었다.
